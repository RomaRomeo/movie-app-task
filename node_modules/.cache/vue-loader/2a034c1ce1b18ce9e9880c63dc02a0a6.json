{"remainingRequest":"/Users/macbookpro/Documents/projects/movie-app/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macbookpro/Documents/projects/movie-app/src/pages/MoviesComponent.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/Users/macbookpro/Documents/projects/movie-app/src/pages/MoviesComponent.vue","mtime":1611009966714},{"path":"/Users/macbookpro/Documents/projects/movie-app/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macbookpro/Documents/projects/movie-app/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/macbookpro/Documents/projects/movie-app/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/macbookpro/Documents/projects/movie-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macbookpro/Documents/projects/movie-app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLnNlYXJjaCB7CiAgICBtYXJnaW46IDAgYXV0bzsKICAgIHBhZGRpbmc6IDIwcHg7CiAgICB3aWR0aDogNzB2dzsKICAgIGRpc3BsYXk6IGZsZXg7Cn0KCi5zZWFyY2ggaW5wdXQgewogICAgcGFkZGluZzogMTBweDsKICAgIGhlaWdodDogNDBweDsKICAgIG1pbi13aWR0aDogMzAwcHg7CiAgICBmb250LXNpemU6IDE5cHg7CiAgICBib3JkZXItcmFkaXVzOiA0cHg7CiAgICBiYWNrZ3JvdW5kOiB3aGl0ZTsKICAgIGJvcmRlcjogMXB4IHNvbGlkICMwMDAwMDA7Cn0KCi5zZWFyY2ggaW5wdXQ6OnBsYWNlaG9sZGVyIHsKICAgIGZvbnQtc2l6ZTogMTlweDsKfQoKLm1vdmllcy1jb250ZW50IHsKICAgIG1hcmdpbjogMCBhdXRvOwogICAgcGFkZGluZzogMjBweCAwIDYwcHg7CiAgICB3aWR0aDogNzB2dzsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBmbGV4LXdyYXA6IHdyYXA7CiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47Cn0KCi5tb3ZpZXMtY29udGVudCB1bCB7CiAgICBtYXJnaW46IDIwcHg7CiAgICBwYWRkaW5nOiAwOwp9Cgp1bCBsaSB7CiAgICBsaXN0LXN0eWxlOiBub25lOwp9CgoubW92aWVzLWNvbnRlbnQgLnRpdGxlIHsKICAgIG1heC13aWR0aDogMTgwcHg7CiAgICBmb250LXNpemU6IDE5cHg7CiAgICB3aGl0ZS1zcGFjZTogbm93cmFwOwogICAgb3ZlcmZsb3c6IGhpZGRlbjsKICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzOwp9CgoubW92aWVzLWNvbnRlbnQgLnBvc3RlciBpbWcgewogICAgbWF4LXdpZHRoOiAzMjBweDsKICAgIG1heC1oZWlnaHQ6IDI4MHB4Owp9CgoudGhlbWUtLWxpZ2h0LnYtcGFnaW5hdGlvbiAudi1wYWdpbmF0aW9uX19pdGVtLS1hY3RpdmUgewogICAgY29sb3I6ICNGRkZGRkYgIWltcG9ydGFudDsKICAgIGJhY2tncm91bmQ6IGdyZXkgIWltcG9ydGFudDsKfQoKLnNlYXJjaCBpbnB1dDpmb2N1cywKYnV0dG9uOmZvY3VzIHsKICAgIG91dGxpbmU6IG5vbmU7Cn0KCi5wYWdpbmF0aW9uIHsKICAgIG1hcmdpbjogMCBhdXRvOwogICAgcGFkZGluZzogMCAwIDQwcHg7CiAgICB3aWR0aDogNzB2dzsKfQoKLmRyb3Bkb3duIHsKICAgIG1hcmdpbjogMCBhdXRvOwogICAgd2lkdGg6IDcwdnc7CiAgICBwYWRkaW5nOiAyMHB4OwogICAgbWF4LWhlaWdodDogMzAwcHg7CiAgICB0cmFuc2l0aW9uOiBhbGwgMC4xcyBlYXNlLW91dDsKICAgIG9wYWNpdHk6IDA7Cn0KCi5kcm9wZG93bi5zaG93IHsKICAgIG9wYWNpdHk6IDE7CiAgICBoZWlnaHQ6IDEwMCU7Cn0KCi5kcm9wZG93biAubW92aWUtaXRlbSB7CiAgICBkaXNwbGF5OiBub25lOwogICAgbWFyZ2luLWJvdHRvbTogMTBweDsKfQoKLmRyb3Bkb3duLnNob3cgLm1vdmllLWl0ZW0gewogICAgZGlzcGxheTogZmxleDsKfQoKLmRyb3Bkb3duLnNob3cgLm1vdmllLWl0ZW0gewogICAgZGlzcGxheTogZmxleDsKICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOwp9CgouZHJvcGRvd24gLm1vdmllLWl0ZW06aG92ZXIgewogICAgYmFja2dyb3VuZDogcmdiYSgyNTUsIDI1NSwgMjU1LCAuNik7Cn0KCi5kcm9wZG93biAubW92aWUtaXRlbSAubW92aWUgLnRleHQgewogICAgcGFkZGluZzogNXB4Owp9CgouZHJvcGRvd24gLm1vdmllLWl0ZW0gLm1vdmllIC50ZXh0IC5kYXRlIHsKICAgIG1hcmdpbi10b3A6IDA7CiAgICBmb250LXNpemU6IDE2cHg7Cn0KCi5kcm9wZG93biAucG9zdGVyIGltZyB7CiAgICBtYXJnaW4tcmlnaHQ6IDEwcHg7CiAgICB3aWR0aDogNzBweDsKICAgIGhlaWdodDogMTAwcHg7Cn0KCi5kcm9wZG93biAubW92aWUgewogICAgZGlzcGxheTogZmxleDsKfQo="},{"version":3,"sources":["MoviesComponent.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8HA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"MoviesComponent.vue","sourceRoot":"src/pages","sourcesContent":["<template>\n    <div>\n        <div class=\"content\">\n            <div class=\"search\">\n                <input type=\"text\" v-on:keyup=\"onSearchMovies($event.target.value)\" placeholder=\"Search\">\n            </div>\n\n            <div class=\"dropdown\" :class=\"{ 'show' : movieList && search}\">\n                <ul class=\"movie-item\" v-for=\"movie in movieList.data.results.slice(0, 5)\" :key=\"movie.id\">\n                    <li>\n                        <router-link :to=\"{name: 'movie', params: {id: movie.id}}\">\n                            <div class=\"movie\">\n                                <div class=\"poster\" v-if=\"movie.poster_path\">\n                                    <img v-bind:src=\"moviePosterBaseUrl + movie.poster_path\">\n                                </div>\n                                <div class=\"text\">\n                                    <div class=\"title\">{{ movie.title }}</div>\n                                    <div class=\"date\"><b>Date:</b> {{ formatDate(movie.release_date) }}</div>\n                                    <div class=\"date\"><b>Rating:</b> {{ movie.vote_average }}</div>\n                                </div>\n                            </div>\n                        </router-link>\n                    </li>\n                </ul>\n            </div>\n\n            <div class=\"movies-content\" v-if=\"movieList && !search\">\n                <ul class=\"movie-item\" v-for=\"movie in movieList.data.results\" :key=\"movie.id\">\n                    <li>\n                        <router-link :to=\"{name: 'movie', params: {id: movie.id}}\">\n                            <div class=\"title\">{{ movie.title }}</div>\n                            <div class=\"poster\" v-if=\"movie.poster_path\">\n                                <img v-bind:src=\"moviePosterBaseUrl + movie.poster_path\">\n                            </div>\n                        </router-link>\n                    </li>\n                    <div class=\"Ã­con\">\n                        <i class=\"material-icons\">star_border</i>\n\n                        <i class=\"material-icons\">star</i>\n                    </div>\n                </ul>\n            </div>\n\n            <v-pagination class=\"pagination\" v-if=\"movieList && !search\"\n                          v-model=\"pagination.page\"\n                          :length=\"pagination.total\"\n                          total-visible=\"10\"\n                          @input=\"onPageChange\"></v-pagination>\n        </div>\n    </div>\n</template>\n\n<script>\n    import axios from 'axios';\n    import moment from 'moment';\n\n    const apiKey = 'ef817d509d5dbf9ce8b44c73e7bb30b4';\n    localStorage.setItem('apiKey', apiKey);\n\n    export default {\n        name: 'movies',\n        props: {\n            id: Number\n        },\n\n        data(){\n            return{\n                moviePosterBaseUrl: 'https://image.tmdb.org/t/p/w600_and_h900_bestv2',\n                movieList: null,\n                pagination: {\n                    page: 1,\n                    total: 0\n                },\n                query: '',\n                search: false\n            }\n        },\n\n        methods: {\n            onFetchMovies() {\n                axios.get(`https://api.themoviedb.org/3/discover/movie?api_key=${apiKey}&page=${this.pagination.page}`).then(response => {\n                    this.movieList = response;\n                    this.pagination.page = this.movieList.data.page;\n                    this.pagination.total = this.movieList.data.total_pages;\n                }).catch((error) => {\n                    console.log('Error while fetching movies', error)\n                });\n            },\n\n            onSearchMovies(query) {\n                if (query) {\n                    axios.get(`https://api.themoviedb.org/3/search/movie?api_key=${apiKey}&query=${query}`).then(response => {\n                        this.movieList = response;\n                        this.pagination.page = this.movieList.data.page;\n                        this.pagination.total = this.movieList.data.total_pages;\n                        this.search = true;\n                    }).catch((error) => {\n                        console.log('Error while fetching movies', error)\n                    });\n                } else {\n                    this.search = false;\n                    this.onFetchMovies();\n                }\n\n            },\n\n            formatDate(value) {\n                if (value) {\n                    return moment(String(value)).format('MM.DD.YYYY');\n                }\n            },\n\n            onPageChange() {\n                this.onFetchMovies();\n            }\n        },\n\n        created() {\n            this.onFetchMovies();\n        }\n\n    }\n</script>\n\n<style>\n    .search {\n        margin: 0 auto;\n        padding: 20px;\n        width: 70vw;\n        display: flex;\n    }\n\n    .search input {\n        padding: 10px;\n        height: 40px;\n        min-width: 300px;\n        font-size: 19px;\n        border-radius: 4px;\n        background: white;\n        border: 1px solid #000000;\n    }\n\n    .search input::placeholder {\n        font-size: 19px;\n    }\n\n    .movies-content {\n        margin: 0 auto;\n        padding: 20px 0 60px;\n        width: 70vw;\n        display: flex;\n        flex-wrap: wrap;\n        justify-content: space-between;\n    }\n\n    .movies-content ul {\n        margin: 20px;\n        padding: 0;\n    }\n\n    ul li {\n        list-style: none;\n    }\n\n    .movies-content .title {\n        max-width: 180px;\n        font-size: 19px;\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n    }\n\n    .movies-content .poster img {\n        max-width: 320px;\n        max-height: 280px;\n    }\n\n    .theme--light.v-pagination .v-pagination__item--active {\n        color: #FFFFFF !important;\n        background: grey !important;\n    }\n\n    .search input:focus,\n    button:focus {\n        outline: none;\n    }\n\n    .pagination {\n        margin: 0 auto;\n        padding: 0 0 40px;\n        width: 70vw;\n    }\n\n    .dropdown {\n        margin: 0 auto;\n        width: 70vw;\n        padding: 20px;\n        max-height: 300px;\n        transition: all 0.1s ease-out;\n        opacity: 0;\n    }\n\n    .dropdown.show {\n        opacity: 1;\n        height: 100%;\n    }\n\n    .dropdown .movie-item {\n        display: none;\n        margin-bottom: 10px;\n    }\n\n    .dropdown.show .movie-item {\n        display: flex;\n    }\n\n    .dropdown.show .movie-item {\n        display: flex;\n        justify-content: center;\n    }\n\n    .dropdown .movie-item:hover {\n        background: rgba(255, 255, 255, .6);\n    }\n\n    .dropdown .movie-item .movie .text {\n        padding: 5px;\n    }\n\n    .dropdown .movie-item .movie .text .date {\n        margin-top: 0;\n        font-size: 16px;\n    }\n\n    .dropdown .poster img {\n        margin-right: 10px;\n        width: 70px;\n        height: 100px;\n    }\n\n    .dropdown .movie {\n        display: flex;\n    }\n</style>"]}]}